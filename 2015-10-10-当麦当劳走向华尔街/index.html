<!doctype html>
<html class="theme-next use-motion ">
<head>
  

<meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>


<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />








  <link rel="stylesheet" type="text/css" href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5"/>




<link rel="stylesheet" type="text/css" href="/css/main.css?v=0.4.5.1"/>


    <meta name="description" content="这里就存放印象笔记中收藏的文章，重新阅读、形成知识闭环。" />



  <meta name="keywords" content="传记," />





  <link rel="shorticon icon" type="image/x-icon" href="/favicon.ico?v=0.4.5.1" />


<meta name="description" content="当麦当劳走向华尔街麦当劳总部不生产也不销售食品、装备，麦当劳能够上市，是因为它知道如何运转连锁经营这种当时全新的商业模式。
1966年，是一个全球动荡开始蔓延的年份。越南战争全面升级，美国国内黑人争取权利引发的暴乱此起彼伏。“国内动乱已经成为美国风景的一个组成部分”（沃尔特·拉菲伯，《美国世纪》）。在中国，被称为“十年浩劫”的文化大革命刚刚开始。
这一年，麦当劳上市了。
连锁经营让麦当劳走向真正的">
<meta property="og:type" content="article">
<meta property="og:title" content="当麦当劳走向华尔街">
<meta property="og:url" content="http://hexo.jimmylv.info/2015-10-10-当麦当劳走向华尔街/index.html">
<meta property="og:site_name" content="吕立青的商业博客">
<meta property="og:description" content="当麦当劳走向华尔街麦当劳总部不生产也不销售食品、装备，麦当劳能够上市，是因为它知道如何运转连锁经营这种当时全新的商业模式。
1966年，是一个全球动荡开始蔓延的年份。越南战争全面升级，美国国内黑人争取权利引发的暴乱此起彼伏。“国内动乱已经成为美国风景的一个组成部分”（沃尔特·拉菲伯，《美国世纪》）。在中国，被称为“十年浩劫”的文化大革命刚刚开始。
这一年，麦当劳上市了。
连锁经营让麦当劳走向真正的">
<meta property="og:updated_time" content="2013-01-28T02:25:52.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="当麦当劳走向华尔街">
<meta name="twitter:description" content="当麦当劳走向华尔街麦当劳总部不生产也不销售食品、装备，麦当劳能够上市，是因为它知道如何运转连锁经营这种当时全新的商业模式。
1966年，是一个全球动荡开始蔓延的年份。越南战争全面升级，美国国内黑人争取权利引发的暴乱此起彼伏。“国内动乱已经成为美国风景的一个组成部分”（沃尔特·拉菲伯，《美国世纪》）。在中国，被称为“十年浩劫”的文化大革命刚刚开始。
这一年，麦当劳上市了。
连锁经营让麦当劳走向真正的">


<script type="text/javascript" id="hexo.configuration">
  var CONFIG = {
    scheme: '',
    sidebar: 'post'
  };
</script>

  <title> 当麦当劳走向华尔街 | 吕立青的商业博客 </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  <!--[if lte IE 8]>
  <div style=' clear: both; height: 59px; padding:0 0 0 15px; position: relative;margin:0 auto;'>
    <a href="http://windows.microsoft.com/en-US/internet-explorer/products/ie/home?ocid=ie6_countdown_bannercode">
      <img src="http://7u2nvr.com1.z0.glb.clouddn.com/picouterie.jpg" border="0" height="42" width="820"
           alt="You are using an outdated browser. For a faster, safer browsing experience, upgrade for free today or use other browser ,like chrome firefox safari."
           style='margin-left:auto;margin-right:auto;display: block;'/>
    </a>
  </div>
<![endif]-->
  



  <div class="container one-column page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><h1 class="site-meta">
  <span class="logo-line-before"><i></i></span>
  <a href="/" class="brand" rel="start">
      <span class="logo">
        <i class="icon-next-logo"></i>
      </span>
      <span class="site-title">吕立青的商业博客</span>
  </a>
  <span class="logo-line-after"><i></i></span>
</h1>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu menu-left">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            <i class="menu-item-icon icon-next-home"></i> <br />
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            <i class="menu-item-icon icon-next-categories"></i> <br />
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            <i class="menu-item-icon icon-next-archives"></i> <br />
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            <i class="menu-item-icon icon-next-tags"></i> <br />
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            <i class="menu-item-icon icon-next-about"></i> <br />
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-commonweal">
          <a href="/404.html" rel="section">
            <i class="menu-item-icon icon-next-commonweal"></i> <br />
            公益404
          </a>
        </li>
      

      
      
    </ul>
  

  
    <div class="site-search">
      
  <form class="site-search-form" >
  <input type="text" id="ts-search-input" class="menu-search-input">
</form>
<script>
  var option = {
    engineKey: '81998ebb1fe880cdf565'
  };
  (function(w,d,t,u,n,s,e){
    s = d.createElement(t);
    s.src = u;
    s.async = 1;
    w[n] = function(r){
      w[n].opts = r;
    };
    e = d.getElementsByTagName(t)[0];
    e.parentNode.insertBefore(s, e);
  })(window,document,'script','//tinysou-cdn.b0.upaiyun.com/ts.js','_ts');
  _ts(option);
</script>



    </div>
  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div id="content" class="content"> 

  <div id="posts" class="posts-expand">
    

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <header class="post-header">

      
      
        <h1 class="post-title" itemprop="name headline">
          
          
            
              当麦当劳走向华尔街
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          发表于
          <time itemprop="dateCreated" datetime="2015-10-10T20:04:07+08:00" content="2015-10-10">
            2015-10-10
          </time>
        </span>

        

        
          
        
      </div>
    </header>

    <div class="post-body">

      
      

      
        <span itemprop="articleBody"><h1 id="当麦当劳走向华尔街">当麦当劳走向华尔街</h1><p>麦当劳总部不生产也不销售食品、装备，麦当劳能够上市，是因为它知道如何运转连锁经营这种当时全新的商业模式。</p>
<p>1966年，是一个全球动荡开始蔓延的年份。越南战争全面升级，美国国内黑人争取权利引发的暴乱此起彼伏。“国内动乱已经成为美国风景的一个组成部分”（沃尔特·拉菲伯，《美国世纪》）。在中国，被称为“十年浩劫”的文化大革命刚刚开始。</p>
<p>这一年，麦当劳上市了。</p>
<p>连锁经营让麦当劳走向真正的成功。</p>
<p>“一张上面列有10个品种的食品单（其中没有一道食品的价格超过29美分），使得路边的汉堡包连锁店获得空前成功，并且已经符合在纽交所上市的要 求。这便是芝加哥的麦当劳公司。它已经开设了81家店铺及714家街边汽车专卖店。”从来只报道财经大事的《纽约时报》注意到了这家连锁餐厅和使它获得巨 大成功的商业模式。</p>
<p>作为一种美国人热爱的快餐食品，汉堡包早在1903年在密苏里州圣路易斯安那采购展览会上已经出现了，美国人已经吃了半个多世纪。</p>
<p>作为一种为开车人服务的汽车穿梭餐厅，在美国也已经存在了20多年。早在1940年麦当劳兄弟(理查·麦当劳 Richard McDonald，莫里森·麦当劳 Maurice McDonald)便在洛杉机开始经营当时美国极其流行的汽车餐厅。</p>
<p>两兄弟自己制作汉堡、热狗、调奶昔，准备一打左右有伞的椅子，招待停车场内车中的客人。到20世纪40年代中期，餐厅已经扩大至可容纳125部汽 车，并雇佣了20名服务员，菜单上提供25项产品，年营业额达到20万美元。20世纪50年代，随着汽车的普及和高速公路网的建成，汽车穿梭餐厅遍地开 花，成为美国餐饮业最流行的经营方式。</p>
<p>然而，麦当劳真正的成功，被记在麦当劳公司曾经的经理人雷·克洛克的名下，是克洛克而不是麦当劳兄弟被当作这个全球最大餐饮公司的创始人。雷·克洛克创造的不是一种产品而是一种全新的商业模式——连锁经营。</p>
<p>1966年7月17日的《纽约时报》以“连锁店走向华尔街”为题全面介绍了麦当劳的连锁经营商业模式：“麦当劳的总裁哈里·丁萨尼伯恩强调说，麦当 劳总部不生产也不销售食品、装备。他还说，麦当劳能够上市，是因为它知道如何运转这一机构。公司职员的工作是向连锁店的经营者提出建议，除了要充分符合麦 当劳制定的产品质量标准之外，还包括购买设备、装备食品、操作方式、广告及经营一家成功企业必须的其他细节”。</p>
<p>1955年麦当劳的行政总裁雷·克洛克“内部创业”获得了在伊利诺伊州开设麦当劳餐厅的授权，这也是公司的第9个分店。1960年雷·克洛克正式将 “Dick and Mac McDonald”餐厅更名为更为简练的“McDonald&apos;s”。第2年，雷·克洛克和他的合伙人以270万美元收购麦当劳兄弟的餐厅，开始以全新的商 业模式运作麦当劳餐厅。新公司运营不久，雷·克洛克便在伊利诺伊州的埃尔克格罗夫村成立了汉堡包大学，为全世界的麦当劳经理提供专门训练。此后麦当劳以不 可思议的速度在美国和全世界复制连锁店。1984年雷·克洛克病逝，那一年，麦当劳售出第500亿个汉堡包。如今，麦当劳公司在全球拥有超过32000家 快餐厅，分布在全球120多个国家和地区。</p>
<h2 id="麦当劳的成长路径">麦当劳的成长路径</h2><p>1992年，在“东方风来满眼春”的南巡讲话后不久，麦当劳在北京的第一家餐厅在王府井和长安街的路口开业了。在当时，这被解读为中国继续改革开放 的信号，登上了全世界所有主流媒体的重要版面。而仅仅1年多前，麦当劳在莫斯科开设了在前苏联的第一家店，第2年苏联宣告解体。麦当劳的开办，曾经在欧洲 被当成美国文化入侵的标志，此时被赋予了浓重的政治含义。</p>
<p>那一年，我来北京出差，就住在不远处东单三条的铁道部招待所。凌晨起床去看升旗，居然看到麦当劳的员工已经在打扫卫生了。他们用抹布认真的擦拭门口 的灯杆，用水清洗门口的人行道——我只能用震惊来形容自己当时的感受，当然震惊的还有价格。虽然战战兢兢的和同事吃了一次“美国大餐”，因为花掉了一个月 工资的1/4心疼不已，但很认真地认可这一餐的性价比。在此之前，我从来没有见识过餐厅可以这么干净。</p>
<p>在相当长的时间里，去麦当劳和肯德基就餐是一项先富裕起来的中国人的一种身份标识。据说，在10年以前，很多小城市第一家麦当劳餐厅的服务员都来自 在当地颇有背景的家庭。麦当劳在中国以及其他发展中国家的发展路径完全不同于其在美国本土的成长路径。在中国的汽车社会到来之前20年，麦当劳和其所营造 的美国文化氛围就颠覆了消费模式和收入水平相匹配的思维惯性。</p>
<p>在刚来北京工作的头几年里，如果有从农村或者小县城来的亲戚，我都会毫不犹豫地把他们带到麦当劳或者肯德基饱餐一顿。因为我发现这是一个用较短的时 间成本和花销在亲戚当中赢得口碑的捷径。凡是第一次进入美式快餐店的中国人，几乎都受到一次从视觉到理念的强烈冲击。超越日常生活经验的标准化服务和清洁 的环境氛围让麦当劳迅速地在中国站稳了脚跟并快速扩张。</p>
<p>曾经一度，商界和媒体界长时间地讨论为什么洋快餐打败了中式快餐的话题。在一个以饮食文化发达而自豪的国度里，品种少、制作简单的洋快餐大行其道的 确让广大餐饮工作者不服气。最终，大家更多的把麦当劳和肯德基在中国的成功解读为标准化的成功，认为中餐制作的复杂性决定了其不容易标准化。</p>
<p>的确，标准化提供连锁加盟方式成功的基础。但麦当劳成功的真正秘笈是其在合作机制设计上的成功和标准执行的成功。</p>
<h2 id="加盟商的管理">加盟商的管理</h2><p>麦当劳公司的收入主要来源于房地产营运收入、从加盟店收取的服务费和直营店的盈余3部分。麦当劳公司负责运用其丰富的开店经验代加盟商寻找合适的开 店地址，并长期承租或购进土地和房屋，然后将店面出租给各加盟店，获取其中的差额。这种方式可以用土地和房屋抵押获得贷款，既解决了加盟者开店的资金困 难，又增加了麦当劳公司的收入。同时，因为控制了店面的所有或租赁权，有利于对加盟商的管理。</p>
<p>在形成对加盟商的有力制约之后，麦当劳对加盟商的扶持非常的周到。收取的首期特许费和年金都很低，减轻了分店的负担，同时绝不在设备采购和原料提供上获取暴利。制约共赢的机制保证了麦当劳从产品到服务标准化的贯彻。</p>
<p>完备的员工培训体系是麦当劳成功的另一大法宝。麦当劳成立第2年就建立了汉堡包大学。脱产培训主要是这所建立在芝加哥的汉堡大学完成，汉堡大学是对 分店经理和重要职员进行培训的基地。1992年在北京开办的中国第一家麦当劳餐馆的主要管理人员就毕业于汉堡大学。汉堡大学不但提供基本操作讲座课程，同 时对于高层管理人员进行公司理念、提高利润的方式、房地产、法律、财务分析和人际关系等各方面的培训。</p>
<p>近年来，无论是在美国本土还是世界各地，抵制麦当劳的运动不断出现。以麦当劳为代表的美式快餐被形容为高热量、缺乏均衡营养、容易导致肥胖和其他疾 病的“垃圾食品”。但与此同时，麦当劳却依然以较快的速度发展。麦当劳中国在其20周年庆典上宣布的未来发展目标是：2015年在中国的销售额增长到 2009年的3倍。</p>
<p>如今，消费被赋予了拉动内需的主要角色。作为最古老的行业，中国的连锁餐饮业不断有公司走向华尔街进入上市公司的行列。过去半个多世纪麦当劳在全球 的成功反复证明，所谓生意本质上是用来满足人的需求的。一家经营有方的餐饮企业的价值并不输于高科技公司。比起波音飞机、苹果公司、谷歌，由麦当劳、肯德 基、沃尔玛、宝洁传统行业构成的跨国公司同样影响着我们的生活，传统行业将永远是经济发展基础。而这些最简单的生意，从本质上更能判定一个企业的商业模式 和管理水平。</p>
</span>
      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/传记/" rel="tag">#传记</a>
          
        </div>
      

      
        <div class="post-nav">
          <div class="post-nav-prev post-nav-item">
            
              <a href="/2015-10-10-徐小平：“未来下一波浪潮的涛声”是什么？/" rel="prev">徐小平：“未来下一波浪潮的涛声”是什么？</a>
            
          </div>

          <div class="post-nav-next post-nav-item">
            
              <a href="/2015-10-10-当奥运遇上移动互联网/" rel="next">当奥运遇上移动互联网</a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
        <!-- JiaThis Button BEGIN -->
<div class="jiathis_style">
  <a class="jiathis_button_tsina"></a>
  <a class="jiathis_button_tqq"></a>
  <a class="jiathis_button_weixin"></a>
  <a class="jiathis_button_cqq"></a>
  <a class="jiathis_button_douban"></a>
  <a class="jiathis_button_renren"></a>
  <a class="jiathis_button_qzone"></a>
  <a class="jiathis_button_kaixin001"></a>
  <a class="jiathis_button_copy"></a>
  <a href="http://www.jiathis.com/share" class="jiathis jiathis_txt jiathis_separator jtico jtico_jiathis" target="_blank"></a>
  <a class="jiathis_counter_style"></a>
</div>
<script type="text/javascript" >
  var jiathis_config={
    hideMore:false
  }
</script>
<script type="text/javascript" src="http://v3.jiathis.com/code/jia.js" charset="utf-8"></script>
<!-- JiaThis Button END -->

      
    </div>
  </div>

 </div>

        

        
          <div class="comments" id="comments">
            
          </div>
        
      </div>

      
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" src="/images/avatar.jpg" alt="JimmyLv" itemprop="image"/>
          <p class="site-author-name" itemprop="name">JimmyLv</p>
        </div>
        <p class="site-description motion-element" itemprop="description">这里就存放印象笔记中收藏的文章，重新阅读、形成知识闭环。</p>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">224</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          <div class="site-state-item site-state-categories">
            <a href="/categories">
              <span class="site-state-item-count">0</span>
              <span class="site-state-item-name">分类</span>
              </a>
          </div>

          <div class="site-state-item site-state-tags">
            <a href="/tags">
              <span class="site-state-item-count">86</span>
              <span class="site-state-item-name">标签</span>
              </a>
          </div>

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="http://weibo.com/liqing215" target="_blank">weibo</a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://github.com/JimmyLv" target="_blank">github</a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://www.zhihu.com/people/lu-li-qing-90" target="_blank">zhihu</a>
              </span>
            
          
        </div>

        
        

        <div class="links-of-author motion-element">
          
            <p class="site-author-name">友链</p>
            
              <span class="links-of-author-item">
              <a href="http://blog.jimmylv.info" target="_blank">JimmyLv</a>
              </span>
            
          
        </div>

      </section>

      
        <section class="post-toc-wrap sidebar-panel-active">
          <div class="post-toc-indicator-top post-toc-indicator"></div>
          <div class="post-toc">
            
            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#当麦当劳走向华尔街"><span class="nav-number">1.</span> <span class="nav-text">当麦当劳走向华尔街</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#麦当劳的成长路径"><span class="nav-number">1.1.</span> <span class="nav-text">麦当劳的成长路径</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#加盟商的管理"><span class="nav-number">1.2.</span> <span class="nav-text">加盟商的管理</span></a></li></ol></li></ol></div>
            
          </div>
          <div class="post-toc-indicator-bottom post-toc-indicator"></div>
        </section>
      

    </div>
  </aside>


    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner"> <div class="copyright" >
  
  &copy; &nbsp;  2014 - 
  <span itemprop="copyrightYear">2015</span>
  <span class="with-love">
    <i class="icon-next-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">JimmyLv</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="http://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT
  </a>
</div>


 </div>
    </footer>

    <div class="back-to-top"></div>
  </div>

  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  
  
    
    

  


  
  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js"></script>
  <script type="text/javascript" src="/js/fancy-box.js?v=0.4.5.1"></script>


  <script type="text/javascript" src="/js/helpers.js?v=0.4.5.1"></script>
  

  <script type="text/javascript" src="/vendors/velocity/velocity.min.js"></script>
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js"></script>

  <script type="text/javascript" src="/js/motion_global.js?v=0.4.5.1" id="motion.global"></script>




  <script type="text/javascript" src="/js/nav-toggle.js?v=0.4.5.1"></script>
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  
<script type="text/javascript" src="/js/bootstrap.scrollspy.js?v=0.4.5.1" id="bootstrap.scrollspy.custom"></script>


<script type="text/javascript" id="sidebar.toc.highlight">
  $(document).ready(function () {
    var tocSelector = '.post-toc';
    var $tocSelector = $(tocSelector);
    var activeCurrentSelector = '.active-current';

    $tocSelector
      .on('activate.bs.scrollspy', function () {
        var $currentActiveElement = $(tocSelector + ' .active').last();

        removeCurrentActiveClass();
        $currentActiveElement.addClass('active-current');

        $tocSelector[0].scrollTop = $currentActiveElement.position().top;
      })
      .on('clear.bs.scrollspy', function () {
        removeCurrentActiveClass();
      });

    function removeCurrentActiveClass () {
      $(tocSelector + ' ' + activeCurrentSelector)
        .removeClass(activeCurrentSelector.substring(1));
    }

    function processTOC () {
      getTOCMaxHeight();
      toggleTOCOverflowIndicators();
    }

    function getTOCMaxHeight () {
      var height = $('.sidebar').height() -
                   $tocSelector.position().top -
                   $('.post-toc-indicator-bottom').height();

      $tocSelector.css('height', height);

      return height;
    }

    function toggleTOCOverflowIndicators () {
      tocOverflowIndicator(
        '.post-toc-indicator-top',
        $tocSelector.scrollTop() > 0 ? 'show' : 'hide'
      );

      tocOverflowIndicator(
        '.post-toc-indicator-bottom',
        $tocSelector.scrollTop() >= $tocSelector.find('ol').height() - $tocSelector.height() ? 'hide' : 'show'
      )
    }

    $(document).on('sidebar.motion.complete', function () {
      processTOC();
    });

    $('body').scrollspy({ target: tocSelector });
    $(window).on('resize', function () {
      if ( $('.sidebar').hasClass('sidebar-active') ) {
        processTOC();
      }
    });

    onScroll($tocSelector);

    function onScroll (element) {
      element.on('mousewheel DOMMouseScroll', function (event) {
          var oe = event.originalEvent;
          var delta = oe.wheelDelta || -oe.detail;

          this.scrollTop += ( delta < 0 ? 1 : -1 ) * 30;
          event.preventDefault();

          toggleTOCOverflowIndicators();
      });
    }

    function tocOverflowIndicator (indicator, action) {
      var $indicator = $(indicator);
      var opacity = action === 'show' ? 0.4 : 0;
      $indicator.velocity ?
        $indicator.velocity('stop').velocity({
          opacity: opacity
        }, { duration: 100 }) :
        $indicator.stop().animate({
          opacity: opacity
        }, 100);
    }

  });
</script>

<script type="text/javascript" id="sidebar.nav">
  $(document).ready(function () {
    var html = $('html');
    var TAB_ANIMATE_DURATION = 200;
    var hasVelocity = $.isFunction(html.velocity);

    $('.sidebar-nav li').on('click', function () {
      var item = $(this);
      var activeTabClassName = 'sidebar-nav-active';
      var activePanelClassName = 'sidebar-panel-active';
      if (item.hasClass(activeTabClassName)) {
        return;
      }

      var currentTarget = $('.' + activePanelClassName);
      var target = $('.' + item.data('target'));

      hasVelocity ?
        currentTarget.velocity('transition.slideUpOut', TAB_ANIMATE_DURATION, function () {
          target
            .velocity('stop')
            .velocity('transition.slideDownIn', TAB_ANIMATE_DURATION)
            .addClass(activePanelClassName);
        }) :
        currentTarget.animate({ opacity: 0 }, TAB_ANIMATE_DURATION, function () {
          currentTarget.hide();
          target
            .stop()
            .css({'opacity': 0, 'display': 'block'})
            .animate({ opacity: 1 }, TAB_ANIMATE_DURATION, function () {
              currentTarget.removeClass(activePanelClassName);
              target.addClass(activePanelClassName);
            });
        });

      item.siblings().removeClass(activeTabClassName);
      item.addClass(activeTabClassName);
    });

    $('.post-toc a').on('click', function (e) {
      e.preventDefault();
      var targetSelector = escapeSelector(this.getAttribute('href'));
      var offset = $(targetSelector).offset().top;
      hasVelocity ?
        html.velocity('stop').velocity('scroll', {
          offset: offset  + 'px',
          mobileHA: false
        }) :
        $('html, body').stop().animate({
          scrollTop: offset
        }, 500);
    });

    // Expand sidebar on post detail page by default, when post has a toc.
    var $tocContent = $('.post-toc-content');
    if (isDesktop() && CONFIG.sidebar === 'post') {
      if ($tocContent.length > 0 && $tocContent.html().trim().length > 0) {
        displaySidebar();
      }
    }
  });
</script>



  <script type="text/javascript">
    $(document).ready(function () {
      if (CONFIG.sidebar === 'always') {
        displaySidebar();
      }
      if (isMobile()) {
        FastClick.attach(document.body);
      }
    });
  </script>

  

  
  

  
  <script type="text/javascript" src="/js/lazyload.js"></script>
  <script type="text/javascript">
    $(function () {
      $("#posts").find('img').lazyload({
        placeholder: "/images/loading.gif",
        effect: "fadeIn"
      });
    });
  </script>
</body>
</html>
