<!doctype html>
<html class="theme-next use-motion ">
<head>
  

<meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>


<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />








  <link rel="stylesheet" type="text/css" href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5"/>




<link rel="stylesheet" type="text/css" href="/css/main.css?v=0.4.5.1"/>




  <meta name="keywords" content="云来,微信," />





  <link rel="shorticon icon" type="image/x-icon" href="/favicon.ico?v=0.4.5.1" />


<meta name="description" content="&amp;nbsp;&amp;nbsp;&amp;nbsp; 试想一家银行想要发展一亿储户，需要多长时间和多大投入？ 这个目标腾讯财付通从拥有2000万绑定客户到前天过亿用了不到一个月，而且没花什么钱！论微信红包的产品营销思维。
3天后，腾讯移动支付第一
这一切，发生的太快! 仅在几个月前，马云还在内部邮件中指示，推出来往要打到企鹅的老家南极去。没想到，几个月后的一夜，微信仅仅一个春节红包测试版，支付宝在移动支付端的老大">
<meta property="og:type" content="article">
<meta property="og:title" content="论微信红包的产品营销思维">
<meta property="og:url" content="http://hexo.jimmylv.info/2015-10-10-论微信红包的产品营销思维/index.html">
<meta property="og:site_name" content="吕立青的博客">
<meta property="og:description" content="&amp;nbsp;&amp;nbsp;&amp;nbsp; 试想一家银行想要发展一亿储户，需要多长时间和多大投入？ 这个目标腾讯财付通从拥有2000万绑定客户到前天过亿用了不到一个月，而且没花什么钱！论微信红包的产品营销思维。
3天后，腾讯移动支付第一
这一切，发生的太快! 仅在几个月前，马云还在内部邮件中指示，推出来往要打到企鹅的老家南极去。没想到，几个月后的一夜，微信仅仅一个春节红包测试版，支付宝在移动支付端的老大">
<meta property="og:image" content="http://hexo.jimmylv.info/resources/57ad09d9ff0c4f838a33b86a5e5fce76/image1.jpg">
<meta property="og:image" content="http://hexo.jimmylv.info/resources/88b89228707442fa660b36bcdc5819a0/image2.jpg">
<meta property="og:image" content="http://hexo.jimmylv.info/resources/6777be928d00cc2965959c6cbeb69eaf/image3.jpg">
<meta property="og:image" content="http://hexo.jimmylv.info/resources/f384bc30bdf316a3fe413e680aad6866/image4.jpg">
<meta property="og:image" content="http://hexo.jimmylv.info/resources/3cbd0a950b26c9317549e6ca3b4c7ee2/image5.jpg">
<meta property="og:updated_time" content="2014-03-03T07:11:27.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="论微信红包的产品营销思维">
<meta name="twitter:description" content="&amp;nbsp;&amp;nbsp;&amp;nbsp; 试想一家银行想要发展一亿储户，需要多长时间和多大投入？ 这个目标腾讯财付通从拥有2000万绑定客户到前天过亿用了不到一个月，而且没花什么钱！论微信红包的产品营销思维。
3天后，腾讯移动支付第一
这一切，发生的太快! 仅在几个月前，马云还在内部邮件中指示，推出来往要打到企鹅的老家南极去。没想到，几个月后的一夜，微信仅仅一个春节红包测试版，支付宝在移动支付端的老大">


<script type="text/javascript" id="hexo.configuration">
  var CONFIG = {
    scheme: '',
    sidebar: 'post'
  };
</script>

  <title> 论微信红包的产品营销思维 | 吕立青的博客 </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  <!--[if lte IE 8]>
  <div style=' clear: both; height: 59px; padding:0 0 0 15px; position: relative;margin:0 auto;'>
    <a href="http://windows.microsoft.com/en-US/internet-explorer/products/ie/home?ocid=ie6_countdown_bannercode">
      <img src="http://7u2nvr.com1.z0.glb.clouddn.com/picouterie.jpg" border="0" height="42" width="820"
           alt="You are using an outdated browser. For a faster, safer browsing experience, upgrade for free today or use other browser ,like chrome firefox safari."
           style='margin-left:auto;margin-right:auto;display: block;'/>
    </a>
  </div>
<![endif]-->
  



  <div class="container one-column page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><h1 class="site-meta">
  <span class="logo-line-before"><i></i></span>
  <a href="/" class="brand" rel="start">
      <span class="logo">
        <i class="icon-next-logo"></i>
      </span>
      <span class="site-title">吕立青的博客</span>
  </a>
  <span class="logo-line-after"><i></i></span>
</h1>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu ">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            <i class="menu-item-icon icon-next-home"></i> <br />
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            <i class="menu-item-icon icon-next-archives"></i> <br />
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            <i class="menu-item-icon icon-next-tags"></i> <br />
            标签
          </a>
        </li>
      

      
      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div id="content" class="content"> 

  <div id="posts" class="posts-expand">
    

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <header class="post-header">

      
      
        <h1 class="post-title" itemprop="name headline">
          
          
            
              论微信红包的产品营销思维
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          发表于
          <time itemprop="dateCreated" datetime="2015-10-10T20:04:07+08:00" content="2015-10-10">
            2015-10-10
          </time>
        </span>

        

        
          
        
      </div>
    </header>

    <div class="post-body">

      
      

      
        <span itemprop="articleBody"><p>&nbsp;&nbsp;&nbsp; 试想一家银行想要发展一亿储户，需要多长时间和多大投入？ 这个目标腾讯财付通从拥有2000万绑定客户到前天过亿用了不到一个月，而且没花什么钱！论微信红包的产品营销思维。</p>
<p><strong>3天后，腾讯移动支付第一</strong></p>
<p>这一切，发生的太快! 仅在几个月前，马云还在内部邮件中指示，推出来往要打到企鹅的老家南极去。没想到，几个月后的一夜，微信仅仅一个春节红包测试版，支付宝在移动支付端的老大地位被重创。这对于拥有6亿用户期待在移动端发力的支付宝，简直不能想象。</p>
<p>但这仅仅是个开始，因为春节还没开始。10天内，随着大量一二线年轻人回乡过年，在年轻人群中已经引爆的微信红包将会被带到三四线城市、被传播到他们的亲人、同学和 长辈，如果这些几乎与互联网前沿脱节的用户能够通过红包开始使用微信支付（微信支付甚至会变成他们中很多人第一个接触到的手机支付方式），腾讯在支付的战略中吃下的将是一个无比巨大规模的增量用户，几乎不花营销成本，轻松将手机支付从年轻人推广到全民。</p>
<p><strong>改变这一切的，只是一个小小的新年红包，一个小小的基于微信小而美的移动应用场景。</strong></p>
<p><img src="/resources/57ad09d9ff0c4f838a33b86a5e5fce76/image1.jpg" alt="image/jpeg"></p>
<p>三天前，腾讯财付通在微信低调推出公众账号“新年红包”Beta测试版。用户关注该账号后，将可以在微信中向好友发送或领取新年红包。虽然产品团队并未对该功能进行大面积曝光，但依旧很快在微信好友中引爆。借助微信群和朋友圈之间的传播，很快吸引了超过千万用户的关注和分享。由于发放红包和提现红包均要捆绑银行账户（本质就是开通微信支付），一夜之间，微信支付客户大增。</p>
<p>3天后，移动支付格局初定。<strong>是的，您还没看过瘾，战役可能就结束了。</strong>云来团队认为这就是来自移动互联网的颠覆力量，也是来自未来的魅力所在。</p>
<p>对于2014阿里腾讯大战，以及此次微信红包背后的移动支付，圈内人士发表观点如下：</p>
<p>云来产品经理KK：微信AA支付+群红包=炸金花！玩一上午，比真人版还胸惨！</p>
<p><img src="/resources/88b89228707442fa660b36bcdc5819a0/image2.jpg" alt="image/jpeg"></p>
<p>李军华：支付宝红包是苦大仇深的人情债；微信红包是欢天喜地的打交情。支付宝红包讨了不给不好，讨了给少了不好，不讨没给不好，想给没支付宝钱包没法给的不好，给了多少都没个动静的不好；微信红包随便拿几百发个几百个红包送出去，发红包的有种老子今天土豪一把撒撒钱的豪气；抢钱的紧张刺激，抢到几毛几分的都觉得跟中500万一样幸运，欢天喜地。</p>
<p>纪云：如果说不久前微信理财通的发布让财付通拉近了与支付宝的差距，那么今年微信红包所掀起的“春节攻势”将很有可能扭转用户习惯的天平。</p>
<p>卜凯军：最后一战，大幕已拉开，阿里腾讯决战， 将是2014年中国互联网最期待最戏剧的一出大戏，千亿打千亿，注定地动山摇。江湖帝位，移动未来，支付宝，马云看得很重，阿里真的眼红捉急了。</p>
<p>财付通产品总监：红包就像一盒巧克力，你永远都不知道拆开它里面会是多少。微信红包只是一个应景小产品，请大家理性看待。</p>
<p><strong>没上班，云来团队扯淡分析：</strong></p>
<p>一个企业的基因，有的时候确定决定一个企业很多的思维方式；阿里体系从诚信通的地面营销到淘宝、天猫的网络商业地产，这一系列的成功更多是基于营销思维。而腾讯从将BB寻呼机+互联网=QQ，到现在移动通信应用+移动互联网=微信，一直是产品思维的胜利。两者还是有者一些区别，而移动互联网时代最重要的是，它更贴近于人；手机，就像另外一个你。</p>
<p><strong>微信红包，之所以红的几个核心原因解析：</strong></p>
<p> <strong>1、「简单」的力量：移动应用场景的小而美。</strong></p>
<p>它确实很简单。“新年红包”只需三个步骤，就可玩转：填写红包信息、微信支付成功、发送给好友/微信群。用户只需进入微信“新年红包”公众号，选择发几个红包、发放的金额，写好祝福语，通过微信支付，红包就包完了。接下来发红包时可以发到群里，也可以单独发给某个好友。当对方打开红包后，只需要关联微信的银行卡，领到的红包就会在一个工作日之后自动转账。“拼手气群红包”更受欢迎，用户自己设定好总金额和红包的个数之后，系统会随机算 法生成不同金额的红包，用户自己派送出去，谁抢到谁可以从自己绑定银行储蓄卡中提到现金。产品设计上看微信红包=“AA收款 + 随机算法”的产品逻辑。属于 1:N 也就是一对多的关系，跟吃饭的时候AA制由某人从参与的N个伙伴手中把钱收回来是一样的。本质上，这个方式和财付通在去年12月推出的“ AA收款”服务号没有什么区别，但是“随机生成”使得用户容易低成本把握自己的支出。用户体验操作简单，始终是应用设计最深层的魅力。&nbsp;</p>
<p> <strong>2、「社交」的价值：基于人性的传播驱动。</strong></p>
<p>派红包不是微信发明的，也不是第一个做的。但是微信把它做活了，是有原因和道理的。产品做得好，时间赶得巧！顺应自媒体的传播路径，抢红包功能将社交自媒体的传播功能可以说发挥到了极致。微信红包已经超出了红包的概念，它更像是一个社交游戏。传统意义上的红包，怎么也得几百块钱，都是极为亲密的亲友之间的行为。这一特性甚至也延续在此前单纯支付工具的红包产品中，微信红包则完全不同。如果发放时用户就知道肯定会拿到多少红包，除了感谢很难有更多兴奋。微信红包的做法一个是让大家“抢”，另外则采用了随机算法。抢到红包的人红包中的金额有多有少、拉开档次，会让每一次红包的发放都能有炫耀、有懊恼、有话题，才会激发用户主动的分享和传播。除了产品的细节，社交关系链的是一决高下关键。与支付宝相比，微信的优势在于社交关系链，即人的链接和流动。支付宝是通过通讯录或对方支付宝帐号的方式实现的，而微信则利用现有的好友关系网络。简单来说，用户通常不会主动添加别人为自己的支付宝好友，只有在需要转账的时候才会添加对方信息。但是微信本身就作为日常交流的工具，其好友关系都是在平时积累。在这种情况下，人的主动传播显然更利于人群之间的互动和扩散。</p>
<p> <strong>3、凡事要好「玩」，产品思维的营销胜利。</strong></p>
<p>大家首先不妨设想一下财付通在PC弹出小窗口或者在高速公路打硬广告”快来绑定微信支付吧！“会付出什么代价和得到什么效果？财付通在微信的出手的确是完全互联网思维的产物，通过建立在用户彼此相识和信任的社交分享，准确把握了用户的“低成本娱乐心理”，想要发红包或收红包，必须关联银行卡到微信，这看似小小的一步如果通过正面的广告或营销将会花费巨额预算也未必能收到成效，然而在微信红包面前，朋友的一句“给你发红包了，关联银行卡收下吧”会比任何广告都有杀伤力。现实里地上有两块钱钢蹦儿都没人抢着拣，微信红包中也许只会拿到一元钱的红包，大家还是会抢得不亦乐乎，为什么？因为好玩。打开红包之前不知道里面有多少钱，有些小期待和兴奋，这个感觉有没有很熟悉？</p>
<p> <strong>4、赢在一个「抢」字，满足你光明正大的贪婪。</strong></p>
<p>抢的乐趣。在这个一切皆娱乐的时代只有正能量的东西和顺应用户心理的做法才能得到快速和大量复制传播。在最初的产品设计中，微信团队考虑过由用户向其他用户发起“要红包”。但是这个逻辑不符合“好玩”的互联网游戏规则，被索要者的抗拒心理会阻止这场过年游戏的传播。近日支付宝也上线了“新年讨喜”的功能，分别是“向老板讨”、“向亲爱的讨”、“向亲朋好友讨”和“向同事讨”4 种方式。从支付宝公开的数据来看，用户最多的还是发起了“向亲爱的讨”，占33.7%，而向同事则只有12.3%。虽然微信并没有公布具体的数据，但是从用户的使用来看，通过微信群分享的红包甚至达到“秒杀”的结果。</p>
<p>我们还发现个有趣的现象，那就是抢到红包后，再参与发红包的人并不在少数。因为有限量的“抢”红包既满足了用户之间好胜心，也让发红包的“土豪”，心里得到了满足。新浪微博也推出“让红包飞”的活动，用户通过转发、评论、点赞等方式获取抽奖机会。但是，同样是发红包用户会选择哪一种？不用我说大家也明白，当然是好玩的哪一种！</p>
<p><img src="/resources/6777be928d00cc2965959c6cbeb69eaf/image3.jpg" alt="image/jpeg"></p>
<p> <strong>5、行进中「开火」，移动互联网就是一个从上至下不断试错的过程。</strong></p>
<p>其实派红包真的不是微信发明的，也不是第一个做！然而成功属于那些院系精准研发、快速调整的团队。有数据说2013年春节通过支付宝发出去的红包是164万个，当时财付通才20万个。</p>
<p>今年财付通利用微信再派红包，对外说花了大约三个月的时间开发产品，12月开始公测，实际上一年的产品思考；此后还立刻根据用户的反馈迅速调整产品。比如腾讯自己公开为了达到操作简单，产品本身是经历过调整的。1月27日前，用户在抢红包之前，要先写上祝福，然后才可以抢。最后还是改为先抢红包再发送祝福。当然这次看似简单的应用场景，实际投入的人力物力都是很大的，只是都躲在产品之后。小编通过云来创始人在Jackchen朋友圈分享的马化腾、张小龙多次亲自发红包就可以明确推断出这是一次从上之下的一级作战行动。之前在云来与创维的商业移动化战略项目中就听Jack与创维的老总说过，移动互联网就是一个从上至下不断试错的过程，貌似现在有那么点懂了。</p>
<p><img src="/resources/f384bc30bdf316a3fe413e680aad6866/image4.jpg" alt="image/jpeg"></p>
<p> <strong>6、移动「微」支付，基于应用场景的移动购物市场必将爆发。</strong></p>
<p>根据iResearch艾瑞咨询统计数据显示，2013年第三方移动支付市场交易规模达12197.4亿，同比增速707.0%。移动支付交易规模暴增，反向O2O从线下到线上将成为2014年的主战场。微信支付在教育用户绑定银行卡获得胜利之后，势必在提高用户活跃度上推出更多的功能。从目前可以看到的是微信支付或将满足多卡用户的转账需求、信用卡还款等业务，以及结合多种行业的服务公众号，推出如医院挂号预约、快递支付等多种场景。一旦消费者用户习惯都用上了微信移动支付，那么就会反逼传统企业提供基于商业移动化的服务，云来轻APP+微支付的产品，2014年必将是满足传统行业走向商业移动化服务的最先进方案。从其产品基因上，轻APP既符合了小而美的移动应用场景，同时又能与微信支付、微信朋友圈社交网络实现产品无缝连接。而且在智能云后台可同时直接管理企业公众账号和轻APP用户数据。任何一款产品的引爆的背后都是用户需求的满足，春节时发红包是个刚需，所以一场全民普及微信支付的浩大工程，就这样悄无声息的开始了。而随时、随地、随身的获得可信任的商品服务也是一个刚需，2014必将有更多企业、更多的商品，与人连接。</p>
<p><img src="/resources/3cbd0a950b26c9317549e6ca3b4c7ee2/image5.jpg" alt="image/jpeg"></p>
<p><strong>最后 送上一个，微信红包的商业效应瞎猜想:</strong></p>
<p>1、利用中国传统习俗和面子心理成功吸引了大量眼球，高富帅和屌丝都一网打尽，A公司要干着急了；</p>
<p>2、延迟一天到账，就成功变成了网上银行，管过资金的人都知道这里面的巨大商业价值，尤其在春节期间；</p>
<p>3、不领取红包的人就相当于给腾讯送了永不提现的长期存款，腾讯摇身变成了瑞士银行，提现的人必然绑定储蓄卡；</p>
<p>4、B公司的李老板看来彻底在移动金融和OtoO上决心不作为了，A公司苦心经营的支付宝余额宝在腾讯的这种攻势下基本死定了，至此，BAT恐怕要重走巨大中华之路；</p>
<p>5、不带信用卡玩是因为从银行手上抢钱太难，搞不好引红火烧身，因为银行普遍给予信用卡30-45天的免息期限。不给转发红包就是要誓死捍卫最少一天的延迟支付期限，好获得庞大的资金池解说完毕；</p>
<p>6、微信6亿用户，2亿高度活跃，30%的人发一百元红包，共形成60亿的资金流动，延期一天支付，民间借贷目前月息2%，每天收益率约为万七，每天沉淀资金的保守收益为420万元，若30%的用户没有选择领取现金，那么其账户可以产生18亿的现金沉淀，无利息。这就是金融与资本？</p>
<p>7、除夕之后，马年之际，中国的移动支付头把交椅或将定居。不是我说的，，，，嘿嘿。</p>
</span>
      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/云来/" rel="tag">#云来</a>
          
            <a href="/tags/微信/" rel="tag">#微信</a>
          
        </div>
      

      
        <div class="post-nav">
          <div class="post-nav-prev post-nav-item">
            
              <a href="/2015-10-10-豆瓣和陌陌/" rel="prev">豆瓣和陌陌</a>
            
          </div>

          <div class="post-nav-next post-nav-item">
            
              <a href="/2015-10-10-让人震撼的天猫数据/" rel="next">让人震撼的天猫数据</a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>

 </div>

        

        
          <div class="comments" id="comments">
            
          </div>
        
      </div>

      
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" src="/images/default_avatar.jpg" alt="JimmyLv" itemprop="image"/>
          <p class="site-author-name" itemprop="name">JimmyLv</p>
        </div>
        <p class="site-description motion-element" itemprop="description"></p>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">224</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          <div class="site-state-item site-state-categories">
            
              <span class="site-state-item-count">0</span>
              <span class="site-state-item-name">分类</span>
              
          </div>

          <div class="site-state-item site-state-tags">
            <a href="/tags">
              <span class="site-state-item-count">86</span>
              <span class="site-state-item-name">标签</span>
              </a>
          </div>

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        <div class="links-of-author motion-element">
          
        </div>

      </section>

      
        <section class="post-toc-wrap sidebar-panel-active">
          <div class="post-toc-indicator-top post-toc-indicator"></div>
          <div class="post-toc">
            
            
              <p class="post-toc-empty">此文章未包含目录</p>
            
          </div>
          <div class="post-toc-indicator-bottom post-toc-indicator"></div>
        </section>
      

    </div>
  </aside>


    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner"> <div class="copyright" >
  
  &copy; &nbsp; 
  <span itemprop="copyrightYear">2015</span>
  <span class="with-love">
    <i class="icon-next-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">JimmyLv</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="http://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT
  </a>
</div>


 </div>
    </footer>

    <div class="back-to-top"></div>
  </div>

  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  
  
    
    

  


  
  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js"></script>
  <script type="text/javascript" src="/js/fancy-box.js?v=0.4.5.1"></script>


  <script type="text/javascript" src="/js/helpers.js?v=0.4.5.1"></script>
  

  <script type="text/javascript" src="/vendors/velocity/velocity.min.js"></script>
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js"></script>

  <script type="text/javascript" src="/js/motion_global.js?v=0.4.5.1" id="motion.global"></script>




  <script type="text/javascript" src="/js/nav-toggle.js?v=0.4.5.1"></script>
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  
<script type="text/javascript" src="/js/bootstrap.scrollspy.js?v=0.4.5.1" id="bootstrap.scrollspy.custom"></script>


<script type="text/javascript" id="sidebar.toc.highlight">
  $(document).ready(function () {
    var tocSelector = '.post-toc';
    var $tocSelector = $(tocSelector);
    var activeCurrentSelector = '.active-current';

    $tocSelector
      .on('activate.bs.scrollspy', function () {
        var $currentActiveElement = $(tocSelector + ' .active').last();

        removeCurrentActiveClass();
        $currentActiveElement.addClass('active-current');

        $tocSelector[0].scrollTop = $currentActiveElement.position().top;
      })
      .on('clear.bs.scrollspy', function () {
        removeCurrentActiveClass();
      });

    function removeCurrentActiveClass () {
      $(tocSelector + ' ' + activeCurrentSelector)
        .removeClass(activeCurrentSelector.substring(1));
    }

    function processTOC () {
      getTOCMaxHeight();
      toggleTOCOverflowIndicators();
    }

    function getTOCMaxHeight () {
      var height = $('.sidebar').height() -
                   $tocSelector.position().top -
                   $('.post-toc-indicator-bottom').height();

      $tocSelector.css('height', height);

      return height;
    }

    function toggleTOCOverflowIndicators () {
      tocOverflowIndicator(
        '.post-toc-indicator-top',
        $tocSelector.scrollTop() > 0 ? 'show' : 'hide'
      );

      tocOverflowIndicator(
        '.post-toc-indicator-bottom',
        $tocSelector.scrollTop() >= $tocSelector.find('ol').height() - $tocSelector.height() ? 'hide' : 'show'
      )
    }

    $(document).on('sidebar.motion.complete', function () {
      processTOC();
    });

    $('body').scrollspy({ target: tocSelector });
    $(window).on('resize', function () {
      if ( $('.sidebar').hasClass('sidebar-active') ) {
        processTOC();
      }
    });

    onScroll($tocSelector);

    function onScroll (element) {
      element.on('mousewheel DOMMouseScroll', function (event) {
          var oe = event.originalEvent;
          var delta = oe.wheelDelta || -oe.detail;

          this.scrollTop += ( delta < 0 ? 1 : -1 ) * 30;
          event.preventDefault();

          toggleTOCOverflowIndicators();
      });
    }

    function tocOverflowIndicator (indicator, action) {
      var $indicator = $(indicator);
      var opacity = action === 'show' ? 0.4 : 0;
      $indicator.velocity ?
        $indicator.velocity('stop').velocity({
          opacity: opacity
        }, { duration: 100 }) :
        $indicator.stop().animate({
          opacity: opacity
        }, 100);
    }

  });
</script>

<script type="text/javascript" id="sidebar.nav">
  $(document).ready(function () {
    var html = $('html');
    var TAB_ANIMATE_DURATION = 200;
    var hasVelocity = $.isFunction(html.velocity);

    $('.sidebar-nav li').on('click', function () {
      var item = $(this);
      var activeTabClassName = 'sidebar-nav-active';
      var activePanelClassName = 'sidebar-panel-active';
      if (item.hasClass(activeTabClassName)) {
        return;
      }

      var currentTarget = $('.' + activePanelClassName);
      var target = $('.' + item.data('target'));

      hasVelocity ?
        currentTarget.velocity('transition.slideUpOut', TAB_ANIMATE_DURATION, function () {
          target
            .velocity('stop')
            .velocity('transition.slideDownIn', TAB_ANIMATE_DURATION)
            .addClass(activePanelClassName);
        }) :
        currentTarget.animate({ opacity: 0 }, TAB_ANIMATE_DURATION, function () {
          currentTarget.hide();
          target
            .stop()
            .css({'opacity': 0, 'display': 'block'})
            .animate({ opacity: 1 }, TAB_ANIMATE_DURATION, function () {
              currentTarget.removeClass(activePanelClassName);
              target.addClass(activePanelClassName);
            });
        });

      item.siblings().removeClass(activeTabClassName);
      item.addClass(activeTabClassName);
    });

    $('.post-toc a').on('click', function (e) {
      e.preventDefault();
      var targetSelector = escapeSelector(this.getAttribute('href'));
      var offset = $(targetSelector).offset().top;
      hasVelocity ?
        html.velocity('stop').velocity('scroll', {
          offset: offset  + 'px',
          mobileHA: false
        }) :
        $('html, body').stop().animate({
          scrollTop: offset
        }, 500);
    });

    // Expand sidebar on post detail page by default, when post has a toc.
    var $tocContent = $('.post-toc-content');
    if (isDesktop() && CONFIG.sidebar === 'post') {
      if ($tocContent.length > 0 && $tocContent.html().trim().length > 0) {
        displaySidebar();
      }
    }
  });
</script>



  <script type="text/javascript">
    $(document).ready(function () {
      if (CONFIG.sidebar === 'always') {
        displaySidebar();
      }
      if (isMobile()) {
        FastClick.attach(document.body);
      }
    });
  </script>

  

  
  

  
  <script type="text/javascript" src="/js/lazyload.js"></script>
  <script type="text/javascript">
    $(function () {
      $("#posts").find('img').lazyload({
        placeholder: "/images/loading.gif",
        effect: "fadeIn"
      });
    });
  </script>
</body>
</html>
