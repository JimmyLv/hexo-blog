<!doctype html>
<html class="theme-next use-motion ">
<head>
  

<meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>


<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />








  <link rel="stylesheet" type="text/css" href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5"/>




<link rel="stylesheet" type="text/css" href="/css/main.css?v=0.4.5.1"/>




  <meta name="keywords" content="Hexo,next" />





  <link rel="shorticon icon" type="image/x-icon" href="/favicon.ico?v=0.4.5.1" />


<meta name="description" content="Title: 推特创业那些年
推特创业那些年geekpark.net
Twitter于北京时间11月7日23:50登陆纽交所，上市首日表现惊艳。开盘股价即达45.1美元，较26美元的发行价大涨73%。截至收盘，涨幅达到72.69%，报收于44.90美元，目前市值达245亿美元。
作为Twitter的第一大个人股东，联合创始人威廉姆斯身价超过32亿美元；联合创始人多西身价超10.5亿美元；早期投资人">
<meta property="og:type" content="article">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://yoursite.com/2015/10/10/business/推特创业那些年/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="Title: 推特创业那些年
推特创业那些年geekpark.net
Twitter于北京时间11月7日23:50登陆纽交所，上市首日表现惊艳。开盘股价即达45.1美元，较26美元的发行价大涨73%。截至收盘，涨幅达到72.69%，报收于44.90美元，目前市值达245亿美元。
作为Twitter的第一大个人股东，联合创始人威廉姆斯身价超过32亿美元；联合创始人多西身价超10.5亿美元；早期投资人">
<meta property="og:image" content="http://yoursite.com/resources/7f98339d93ce90f1e892066a343d9f68.jpeg">
<meta property="og:updated_time" content="2013-11-12T10:39:01.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Hexo">
<meta name="twitter:description" content="Title: 推特创业那些年
推特创业那些年geekpark.net
Twitter于北京时间11月7日23:50登陆纽交所，上市首日表现惊艳。开盘股价即达45.1美元，较26美元的发行价大涨73%。截至收盘，涨幅达到72.69%，报收于44.90美元，目前市值达245亿美元。
作为Twitter的第一大个人股东，联合创始人威廉姆斯身价超过32亿美元；联合创始人多西身价超10.5亿美元；早期投资人">


<script type="text/javascript" id="hexo.configuration">
  var CONFIG = {
    scheme: '',
    sidebar: 'post'
  };
</script>

  <title>  | Hexo </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  <!--[if lte IE 8]>
  <div style=' clear: both; height: 59px; padding:0 0 0 15px; position: relative;margin:0 auto;'>
    <a href="http://windows.microsoft.com/en-US/internet-explorer/products/ie/home?ocid=ie6_countdown_bannercode">
      <img src="http://7u2nvr.com1.z0.glb.clouddn.com/picouterie.jpg" border="0" height="42" width="820"
           alt="You are using an outdated browser. For a faster, safer browsing experience, upgrade for free today or use other browser ,like chrome firefox safari."
           style='margin-left:auto;margin-right:auto;display: block;'/>
    </a>
  </div>
<![endif]-->
  



  <div class="container one-column page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><h1 class="site-meta">
  <span class="logo-line-before"><i></i></span>
  <a href="/" class="brand" rel="start">
      <span class="logo">
        <i class="icon-next-logo"></i>
      </span>
      <span class="site-title">Hexo</span>
  </a>
  <span class="logo-line-after"><i></i></span>
</h1>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu ">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            <i class="menu-item-icon icon-next-home"></i> <br />
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            <i class="menu-item-icon icon-next-archives"></i> <br />
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            <i class="menu-item-icon icon-next-tags"></i> <br />
            标签
          </a>
        </li>
      

      
      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div id="content" class="content"> 

  <div id="posts" class="posts-expand">
    

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <header class="post-header">

      
      
        <h1 class="post-title" itemprop="name headline">
          
          
            
              
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          发表于
          <time itemprop="dateCreated" datetime="2015-10-10T15:16:39+08:00" content="2015-10-10">
            2015-10-10
          </time>
        </span>

        

        
          
        
      </div>
    </header>

    <div class="post-body">

      
      

      
        <span itemprop="articleBody"><p>Title: 推特创业那些年</p>
<h1 id="推特创业那些年">推特创业那些年</h1><p><em><a href="http://geekpark.net" target="_blank" rel="external">geekpark.net</a></em></p>
<p>Twitter于北京时间11月7日23:50登陆纽交所，上市首日表现惊艳。开盘股价即达45.1美元，较26美元的发行价大涨73%。截至收盘，涨幅达到72.69%，报收于44.90美元，目前市值达245亿美元。</p>
<p>作为Twitter的第一大个人股东，联合创始人威廉姆斯身价超过32亿美元；联合创始人多西身价超10.5亿美元；早期投资人、董事彼得·芬顿身价超14.2亿美元；CEO科斯特洛身价约4.3亿美元。</p>
<p>在Twitter成功IPO之际，让我们回顾这家公司的一些早期故事。</p>
<p><img src="resources/7f98339d93ce90f1e892066a343d9f68.jpeg" alt="image/jpeg"></p>
<p>关键时刻：互联网处于低潮之时，推特异军突起，以极简和极致的网络服务产品赢得关注，赢得市场。此时，竞争激烈，对手强大，推特在竞争中时而抛向高空，时而跌入谷底。</p>
<p>关键抉择：推特与苹果iPhone相得益彰，成为互联网年轻人的挚爱。它以用户为中心，为用户排忧解难，将频繁宕机当作主要难关来攻克，不仅战胜了困难，而且赢得了用户的心。</p>
<p>关键策略：以激情战困难，以创新赢市场。推特把每一次危机，每一个对手都当作自己成长中的必然经历和战斗伙伴。</p>
<p>推特（Twitter）是一个古老的拟音字，模拟蟋蟀发声时的振动，引喻现代人们因激动而颤抖，使得信息简短集中并附有爆炸的含义。在推特IPO的当口，再回忆一下它在互联网低潮时的创业经历，在竞争中以生生不息和创新赢得市场的过程。</p>
<p>一天，杰克·多尔西（后成为推特联合创始人）和播客公司Odeo的CEO埃文·威廉姆斯（后成为Twitter联合创始人兼首席执行官）坐在公园的一角吃东西，闲聊是否有什么新点子可以让目前停滞不前的Odeo公司采用。聊着聊着，杰克突然想起了自己几年前曾经在金门公园发送的信息被搁浅的Stat.us 服务。虽然当时的体验并不成功，不过杰克认为，在纷繁复杂的城市生活中，简化人与人之间的信息交流与分享的有效途的创意本身是正确的。</p>
<p>杰克兴奋地想着，并立刻抓住时机向他的老板埃文展示了Stat.us。就像黑暗中猛然出现的一缕曙光，埃文·威廉姆斯对这个点子表示了浓厚的兴趣。</p>
<p>随后一周的头脑风暴，杰克将最初的Stat.us概念做了调整，将其与短信结合起来，并把极简主义融入其中。在讨论中提出了推特最初的服务概念：用短信息把自己正在做的事情发送出去，并实时传到对它感兴趣的人那里。杰克总结说，让一切事情尽可能地保持简单，这是我们的差异性原则。</p>
<p>这是2006年，当时的互联网经过世纪之交的爆炸式增长和随后的泡沫破灭，正处于低潮。尽管如此，互联网创新并没有结束。Odeo公司立即组织团队，对这个新的思路进行研发和试验。老板的支持让年轻的杰克非常兴奋，他愿意与多年的合作伙伴在埃文·威廉姆斯的领导下一展身手，大干一场。</p>
<p>比兹·斯通（后成为Twitter联合创始人）灵感大发，以粉红色为主基调设计了推特的Logo（后来改为蓝色，并加入活泼的小鸟），而诺亚·格拉斯（后成为Twitter创始人之一，但2006年被赶出公司）则尽其所能为推特的研发和推广做铺垫工作，杰克研究推特产品的基本功能设定。经过多次反复，大家一致认定，推特坚持以用户和短信为核心，围绕其提供各种服务。比如将用户之间设定为关注和被关注的关系。如果关注某个人，它可以读到那个人发出的短信，如果自己被关注，则是他所发出的信息都会被关注者所读取。这群创业者在紧张的工作日程安排下，始终处于高度亢奋的状态，新的想法不断萌发，新的功能被一点点加入和扩充，推特越来越充实，越来越完善。</p>
<h2 id="极简极致">极简极致</h2><p>2006年8月，人们在旧金山地震中认识到了推特独有的新媒体特色。在传统媒体尚无任何动作之时，已经有人在推特上发出了地震的消息。一石激起千重浪，推特的用户争相转载传递，很快产生了消息震动——推特上开始讨论地震的严重程度、人们的感受、逃生注意事项等等，并且对于亲朋好友的关心和担忧也在推特上得到即时传播。此时的人们才真正认识到，推特不仅仅是消遣和聊天的工具，而且还具有许许多多的社会功能。而这些社会功能足以让人刮目相看，因为它引领了一场人类交流方式的革命。很快，推特的用户从最初的50名测试者发展到几千人。</p>
<p>苹果的简约和精致给了推特创始人很多启迪。2007年1月苹果的iPhone发布，推特也适时跟上，虽然此前推特的主要服务对象是短信用户，但在研发和测试中，推特不断完善功能，支持插入链接和图片共享，因此，推特能够成功地在iPhone上运行。而其中心化、轻质化的设计又保证了运行的流畅。这直接促成了iPhone和推特的完美结合。越来越多的年轻人爱屋及乌，将咬了一口的白苹果和蓝色小鸟奉为至爱，而苹果与推特也在这种用户的宠爱中相得益彰。</p>
<p>在苹果的简约和极致精神的启迪下，并且考虑到手机短信的字符限制规定，杰克喊出了“我们要用140个字符改变世界”的口号。这个思路促使推特实现了又一次飞跃。一方面140个字符节省了网站处理运算的空间。另一方面，140个字符使信息更凝练、更直接，也节省了用户的开支。客户因此感觉到，推特懂得设计，更懂得站在用户的角度去思考，将推特演绎得非常人性化、非常完美。事实证明，推特是这样一种产品，你只有在使用中才能慢慢体会到它的乐趣和功效，并且由此而逐渐沉迷，无法离开。</p>
<p>2007年3月，一年一度的美国西南用户大会在得州奥斯丁举行，由杰克带队的推特团队满怀激情地参加了这个盛会，推特在会上大放异彩：推特不仅在会上获得了Web大奖，而且随着推特知名度和认知度的提高，它的用户数量也陡然骤升。</p>
<p>这个颇具世界影响力的大型集会，充满了各种小团队和讨论会，推特的出现为大小会议的参与者提供了一个与朋友建立联系的便捷渠道——会上你不必穿越人群去寻找交谈目标，不必通过大声呼喊唤起朋友的注意，也不必苦恼因为醉倒在某处而无法获得帮助。使用推特，所有的阻碍都不再是阻碍，所有的问题都不再是问题。往往是，这些个过去存在的问题一经解决，给你带来的是意外的惊喜。人们立刻喜欢上了推特，纷纷邀请自己的好友加入，并且在加以关注的过程中，结识了很多新的朋友。大会内外的参与者尤其感觉到，这玩意儿太神奇了，不管事情发生在何处，使用推特，感觉就是发生在身边的事情。</p>
<h2 id="竞争来了！">竞争来了！</h2><p>随着推特的大获成功、巨大的影响力和用户的骤然增长，推特使人们认识到，Web2.0时代来到了。不仅如此，强大的竞争对手也不请而至。</p>
<p>Jaiku本是个基于芬兰赫尔辛基的微博服务网站，致力于提供通过网络和移动电话运作进行活动的组织、参与、推广和分享的服务。与推特类似，Jaiku也整合了API，这样保证了其他服务的访问，使Jaiku有了更多的功能。Jaiku比推特更棒的地方是，Jaiku 的性能和稳定性更强。恰恰此时，螳螂捕蝉，黄雀在后。谷歌看上了Jaiku，并斥资将其买下。这是2007年10月的事情。推特遇到了强大的对手。</p>
<p>这导致的直接后果是，两个微博产品摆放到了一起。过去，一个在美国，一个在欧洲，“大路朝天各走半边”。现在情况完全不同了。推特还没有成熟，即路遇强大对手。尤其是，无论杰克，还是埃文，抑或是比兹，他们都曾经是谷歌的雇员，他们知道谷歌的实力：谷歌财力充沛，科研资源雄厚，谷歌的力量足以开发出与推特比肩的产品。</p>
<p>阅历丰富的人都知道，一种在沙漠中生长的植物“狼毒”，可以开出剧毒的“狼毒花”。其毒性足以使人当场致命。但令人不可思议的是，凡在沙漠中行进的人见到这种植物，不是因为害怕而避之唯恐不及，而是会欣喜若狂，因为狼毒花也有其有益的独特性：它能够指示沙漠中水源所在地，从而为沙漠行走之人带来生的希望。商战中情况往往也是这样的：很多时候，你仿佛是遇到了危机，而换个角度，或许你面对的是一个全新的机遇。</p>
<p>由谷歌背书Jaiku的出现即是如此。原先不起眼的推特因为谷歌收购Jaiku，并且公然向推特宣战，无形中证明了推特这个微博客所具有的巨大潜在价值：能够得到谷歌的承认，本身就能证明，微博这项技术和产品在未来几年内具有良好的发展前景。所以，虽然竞争的局面给推特带来了威胁，但是从另外一个角度看，也为推特起到了很好的宣传作用，使更多人关注推特。</p>
<p>随之而来的，是风险投资公司对于推特的关注和注资。成功融资可以为推特的发展提供力量之源，因此，在竞争对手面前，推特不仅不害怕，反而目标更加明确。他们的首要诉求是：即时和迅速，要给用户提供良好的体验和反应灵敏的能力。推特作为一款以迅捷著称的服务平台，要求自己将反应能力提升到200至300毫秒之间，远远超过响应均值500毫秒这个被业界公认的标准。</p>
<p>推特面对强大对手的第二个诉求是，要求做到移动和便捷。推特不仅要支持传统的Web浏览器访问，而且还要支持手机移动平台及各种即时通讯工具的访问。为此，推特的工程师们竭力动用缓存。他们设计了Fragment Cache和Page Cache两类缓存，可以根据不同的需求调用程序，从而提高了API通道的运行效率。</p>
<h2 id="可爱宕机鲸">可爱宕机鲸</h2><p>谷歌对于Jaiku的收购案并没有给推特带来实质性的伤害，反倒在一定程度上促成了人们对于推特的进一步关注。就连当时的美国黑人总统候选人奥巴马也用“只要一个签名，我们就可以结束伊拉克战争了”，这样一句发在推特上的帖子，迅速成为网络大V，并且赢得了2007年的总统大选。此时，推特的独立用户访问量达到了50万人，而用户上传信息的爆炸式增长明显超出了推特的承载限度。推特在最初的架构过程中，主要是面向内容的管理系统，因此在面对大量信息时，显得有些力不从心，于是宕机现象频繁出现，宕机时间之长，一个月可以累计到37个小时，这成了推特用户最烦恼的事情，也是推特管理层遇到的最棘手的问题。</p>
<p>“屋漏偏逢连阴雨”，竞争对手也来乱上添乱。此时，一个叫做Plurk（噗浪）的竞争对手——可视化微博网站诞生了。它学推特奉行极简主义，将消息限定在140个字符，用户同样可以在网站上设定关注和被关注对象，并且可以随时查阅关注人的信息。他们独到的地方是时间轴，用户可以通过拖动时间轴来方便地查阅信息。Plurk无疑是在挑战推特。与Jaiku不同，Plurk在产品定位上更准确，在产品营销上更有经验。其人性化的设计、便捷的服务，独特的热度计算系统和时间轴服务吸引了大批的用户。很快，在某些地区其受欢迎程度超过推特。</p>
<p>看来，解决宕机是一个迫在眉睫的问题了，否则推特就会丢掉很多已经占领或即将占领的市场。面对系统宕机和竞争对手的双重挑战，推特感受到了前所未有的压力。为了扭转这一局面，推特决定放弃以前使用的开发工具，尝试寻找新的支持可扩展性强的语言。最后推特选定在Java虚拟机平台上运行的Scala编程语言， 其执行速度表现相当优秀，几乎难以找到另一种语言能与之匹敌。事实证明，这是一个英明的决策。很快，数据处理的速度得到了明显的改善，宕机次数逐渐减少，推特很快又以友好的面孔迎接自己的用户了。</p>
<p>在处理宕机危机期间，推特还得到了一个意外的收获，一个叫做宕机鲸的走红。这是一幅有趣的画面: 一条搁浅的白鲸被八只衔着网绳的红色小鸟奋力地拉向天空，图片的文字说明是：推特正在停机维护。这是比兹在网站上偶尔看到的上海女孩陆怡颖设计的作品，图片透露着可爱、无奈、团结……敏感的比兹眼睛一亮: 当鲸鱼搁浅时，八只小鸟团结一致地将它拉向天空所体现出来的拼搏向上的团队合作精神正是推特全体员工的真实写照！比兹爱不释手，立刻联系陆怡颖，花钱买下了这幅图片，将它贴在网站上，作为推特有关宕机的通知和致歉的表示。</p>
<p>宕机鲸现象使人们看到了推特迷们对推特近乎偏执而疯狂的喜爱。不论是服务中还是维护中，人们对它的热情丝毫不减。的确，一个连系统故障页面都表现的如此生动独特的网站怎么会不受人追捧与欢迎呢？推特用自己的努力和创意应对了成长道路上的一个又一个挑战，并且每次都能够在关键时刻化险为夷，以此向世人证明它强大的实力和独有的魅力。推特的每一次“颤抖”都为它赢得了更大的成功。</p>
<p>（本文基于王玉环著《推特风暴》一书改写）</p>
<hr>
<p>Original Page: <a href="http://www.geekpark.net/read/view/192192" target="_blank" rel="external">http://www.geekpark.net/read/view/192192</a></p>
<p>Shared from <a href="http://readitlaterlist.com" target="_blank" rel="external">Pocket</a></p>
</span>
      
    </div>

    <footer class="post-footer">
      

      
        <div class="post-nav">
          <div class="post-nav-prev post-nav-item">
            
              <a href="/2015/10/10/business/揭秘马云最佩服的人王卫：从“带水货”到顺丰总裁/" rel="prev"></a>
            
          </div>

          <div class="post-nav-next post-nav-item">
            
              <a href="/2015/10/10/business/把水，给干渴的人——如何抓住用户需求/" rel="next"></a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>

 </div>

        

        
          <div class="comments" id="comments">
            
          </div>
        
      </div>

      
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" src="/images/default_avatar.jpg" alt="John Doe" itemprop="image"/>
          <p class="site-author-name" itemprop="name">John Doe</p>
        </div>
        <p class="site-description motion-element" itemprop="description"></p>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">225</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          <div class="site-state-item site-state-categories">
            
              <span class="site-state-item-count">0</span>
              <span class="site-state-item-name">分类</span>
              
          </div>

          <div class="site-state-item site-state-tags">
            <a href="/tags">
              <span class="site-state-item-count">0</span>
              <span class="site-state-item-name">标签</span>
              </a>
          </div>

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        <div class="links-of-author motion-element">
          
        </div>

      </section>

      
        <section class="post-toc-wrap sidebar-panel-active">
          <div class="post-toc-indicator-top post-toc-indicator"></div>
          <div class="post-toc">
            
            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#推特创业那些年"><span class="nav-number">1.</span> <span class="nav-text">推特创业那些年</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#极简极致"><span class="nav-number">1.1.</span> <span class="nav-text">极简极致</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#竞争来了！"><span class="nav-number">1.2.</span> <span class="nav-text">竞争来了！</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#可爱宕机鲸"><span class="nav-number">1.3.</span> <span class="nav-text">可爱宕机鲸</span></a></li></ol></li></ol></div>
            
          </div>
          <div class="post-toc-indicator-bottom post-toc-indicator"></div>
        </section>
      

    </div>
  </aside>


    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner"> <div class="copyright" >
  
  &copy; &nbsp; 
  <span itemprop="copyrightYear">2015</span>
  <span class="with-love">
    <i class="icon-next-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">John Doe</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="http://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT
  </a>
</div>


 </div>
    </footer>

    <div class="back-to-top"></div>
  </div>

  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  
  
    
    

  


  
  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js"></script>
  <script type="text/javascript" src="/js/fancy-box.js?v=0.4.5.1"></script>


  <script type="text/javascript" src="/js/helpers.js?v=0.4.5.1"></script>
  

  <script type="text/javascript" src="/vendors/velocity/velocity.min.js"></script>
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js"></script>

  <script type="text/javascript" src="/js/motion_global.js?v=0.4.5.1" id="motion.global"></script>




  <script type="text/javascript" src="/js/nav-toggle.js?v=0.4.5.1"></script>
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  
<script type="text/javascript" src="/js/bootstrap.scrollspy.js?v=0.4.5.1" id="bootstrap.scrollspy.custom"></script>


<script type="text/javascript" id="sidebar.toc.highlight">
  $(document).ready(function () {
    var tocSelector = '.post-toc';
    var $tocSelector = $(tocSelector);
    var activeCurrentSelector = '.active-current';

    $tocSelector
      .on('activate.bs.scrollspy', function () {
        var $currentActiveElement = $(tocSelector + ' .active').last();

        removeCurrentActiveClass();
        $currentActiveElement.addClass('active-current');

        $tocSelector[0].scrollTop = $currentActiveElement.position().top;
      })
      .on('clear.bs.scrollspy', function () {
        removeCurrentActiveClass();
      });

    function removeCurrentActiveClass () {
      $(tocSelector + ' ' + activeCurrentSelector)
        .removeClass(activeCurrentSelector.substring(1));
    }

    function processTOC () {
      getTOCMaxHeight();
      toggleTOCOverflowIndicators();
    }

    function getTOCMaxHeight () {
      var height = $('.sidebar').height() -
                   $tocSelector.position().top -
                   $('.post-toc-indicator-bottom').height();

      $tocSelector.css('height', height);

      return height;
    }

    function toggleTOCOverflowIndicators () {
      tocOverflowIndicator(
        '.post-toc-indicator-top',
        $tocSelector.scrollTop() > 0 ? 'show' : 'hide'
      );

      tocOverflowIndicator(
        '.post-toc-indicator-bottom',
        $tocSelector.scrollTop() >= $tocSelector.find('ol').height() - $tocSelector.height() ? 'hide' : 'show'
      )
    }

    $(document).on('sidebar.motion.complete', function () {
      processTOC();
    });

    $('body').scrollspy({ target: tocSelector });
    $(window).on('resize', function () {
      if ( $('.sidebar').hasClass('sidebar-active') ) {
        processTOC();
      }
    });

    onScroll($tocSelector);

    function onScroll (element) {
      element.on('mousewheel DOMMouseScroll', function (event) {
          var oe = event.originalEvent;
          var delta = oe.wheelDelta || -oe.detail;

          this.scrollTop += ( delta < 0 ? 1 : -1 ) * 30;
          event.preventDefault();

          toggleTOCOverflowIndicators();
      });
    }

    function tocOverflowIndicator (indicator, action) {
      var $indicator = $(indicator);
      var opacity = action === 'show' ? 0.4 : 0;
      $indicator.velocity ?
        $indicator.velocity('stop').velocity({
          opacity: opacity
        }, { duration: 100 }) :
        $indicator.stop().animate({
          opacity: opacity
        }, 100);
    }

  });
</script>

<script type="text/javascript" id="sidebar.nav">
  $(document).ready(function () {
    var html = $('html');
    var TAB_ANIMATE_DURATION = 200;
    var hasVelocity = $.isFunction(html.velocity);

    $('.sidebar-nav li').on('click', function () {
      var item = $(this);
      var activeTabClassName = 'sidebar-nav-active';
      var activePanelClassName = 'sidebar-panel-active';
      if (item.hasClass(activeTabClassName)) {
        return;
      }

      var currentTarget = $('.' + activePanelClassName);
      var target = $('.' + item.data('target'));

      hasVelocity ?
        currentTarget.velocity('transition.slideUpOut', TAB_ANIMATE_DURATION, function () {
          target
            .velocity('stop')
            .velocity('transition.slideDownIn', TAB_ANIMATE_DURATION)
            .addClass(activePanelClassName);
        }) :
        currentTarget.animate({ opacity: 0 }, TAB_ANIMATE_DURATION, function () {
          currentTarget.hide();
          target
            .stop()
            .css({'opacity': 0, 'display': 'block'})
            .animate({ opacity: 1 }, TAB_ANIMATE_DURATION, function () {
              currentTarget.removeClass(activePanelClassName);
              target.addClass(activePanelClassName);
            });
        });

      item.siblings().removeClass(activeTabClassName);
      item.addClass(activeTabClassName);
    });

    $('.post-toc a').on('click', function (e) {
      e.preventDefault();
      var targetSelector = escapeSelector(this.getAttribute('href'));
      var offset = $(targetSelector).offset().top;
      hasVelocity ?
        html.velocity('stop').velocity('scroll', {
          offset: offset  + 'px',
          mobileHA: false
        }) :
        $('html, body').stop().animate({
          scrollTop: offset
        }, 500);
    });

    // Expand sidebar on post detail page by default, when post has a toc.
    var $tocContent = $('.post-toc-content');
    if (isDesktop() && CONFIG.sidebar === 'post') {
      if ($tocContent.length > 0 && $tocContent.html().trim().length > 0) {
        displaySidebar();
      }
    }
  });
</script>



  <script type="text/javascript">
    $(document).ready(function () {
      if (CONFIG.sidebar === 'always') {
        displaySidebar();
      }
      if (isMobile()) {
        FastClick.attach(document.body);
      }
    });
  </script>

  

  
  

  
  <script type="text/javascript" src="/js/lazyload.js"></script>
  <script type="text/javascript">
    $(function () {
      $("#posts").find('img').lazyload({
        placeholder: "/images/loading.gif",
        effect: "fadeIn"
      });
    });
  </script>
</body>
</html>
